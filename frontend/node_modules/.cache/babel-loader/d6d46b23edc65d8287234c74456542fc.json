{"ast":null,"code":"import _classCallCheck from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/src/components/Login.js\";\nimport React, { Component } from 'react'; // import LoginInput from './LoginInput'\n\nimport '../style/Login.css';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios';\nimport '../style/LoginInput.css';\nimport { FaUserAlt, FaLock } from 'react-icons/fa';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleEmailChange = function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    };\n\n    _this.handlePasswordChange = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.state = {\n      url: _this.props.type,\n      email: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onLogin\",\n    value: function onLogin(history) {\n      this.state.url === \"rhome\" ? axios.get('http://127.0.0.1:8000/api/restaurants/', {\n        params: {\n          email: this.state.email,\n          password: this.state.password\n        }\n      }).then(function (response) {\n        if (response.data.message === \"SUCCESS\") {\n          var res = response.data.result[0];\n          var restobj = {\n            email: res[0],\n            password: res[2],\n            name: res[1],\n            address: res[3],\n            city: res[4],\n            state: res[5],\n            zip_code: res[6],\n            phone: res[7]\n          };\n          history.push({\n            pathname: '/rhome',\n            state: {\n              detail: restobj\n            }\n          });\n        }\n      }) : axios.get('http://127.0.0.1:8000/api/nonprofits/', {\n        params: {\n          email: this.state.email,\n          password: this.state.password\n        }\n      }).then(function (response) {\n        if (response.data.message === \"SUCCESS\") {\n          var np = response.data.result[0];\n          var npobj = {\n            email: np[0],\n            password: np[2],\n            name: np[1],\n            address: np[3],\n            city: np[4],\n            state: np[5],\n            zip_code: np[6],\n            phone: np[7]\n          };\n          history.push({\n            pathname: '/nphome',\n            state: {\n              detail: npobj\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Route, {\n        render: function render(_ref) {\n          var history = _ref.history;\n          return React.createElement(\"div\", {\n            className: \"login-comp\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            alt: \"Save Me A Piece\",\n            src: require('../logo.png'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"login-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, \"WELCOME BACK!\"), React.createElement(\"div\", {\n            className: \"login-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, \"PLEASE LOGIN:\"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"login-input\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"icon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(FaUserAlt, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          })), React.createElement(\"input\", {\n            onChange: _this2.handleEmailChange,\n            className: \"login-text\",\n            type: \"text\",\n            placeholder: \"EMAIL\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"login-input\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"icon\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94\n            },\n            __self: this\n          }, React.createElement(FaLock, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          })), React.createElement(\"input\", {\n            onChange: _this2.handlePasswordChange,\n            className: \"login-text\",\n            type: \"password\",\n            placeholder: \"PASSWORD\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          })), React.createElement(\"button\", {\n            className: \"login-button\",\n            onClick: function onClick() {\n              return _this2.onLogin(history);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"button-login-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }, \"LOGIN\")));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/src/components/Login.js"],"names":["React","Component","Route","axios","FaUserAlt","FaLock","Login","props","handleEmailChange","e","setState","email","target","value","handlePasswordChange","password","state","url","type","history","get","params","then","response","data","message","res","result","restobj","name","address","city","zip_code","phone","push","pathname","detail","np","npobj","require","onLogin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import LoginInput from './LoginInput'\nimport '../style/Login.css';\nimport { Route } from 'react-router-dom'\nimport axios from 'axios'\nimport '../style/LoginInput.css';\nimport {FaUserAlt,FaLock} from 'react-icons/fa';\n\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            url : this.props.type,\n            email: \"\",\n            password: \"\"\n        }\n    }\n\n    onLogin(history){\n        this.state.url === \"rhome\"?\n            axios.get('http://127.0.0.1:8000/api/restaurants/', \n              { \n                params:{\n                    email: this.state.email,\n                    password: this.state.password\n                }\n              })\n            .then(function (response) {\n                if(response.data.message === \"SUCCESS\"){\n                    let res = response.data.result[0];\n                    let restobj = { \n                        email: res[0],\n                        password: res[2],\n                        name: res[1],\n                        address: res[3],\n                        city: res[4],\n                        state: res[5],\n                        zip_code: res[6],\n                        phone: res[7]\n                  };\n                    history.push({pathname: '/rhome', state: { detail: restobj}})\n                }\n            })\n        :\n            axios.get('http://127.0.0.1:8000/api/nonprofits/', \n            {\n                params:{\n                    email: this.state.email,\n                    password: this.state.password\n                }\n            })\n            .then(function (response) {\n                if(response.data.message === \"SUCCESS\"){\n                    let np = response.data.result[0];\n                    let npobj = { \n                        email: np[0],\n                        password: np[2],\n                        name: np[1],\n                        address: np[3],\n                        city: np[4],\n                        state: np[5],\n                        zip_code: np[6],\n                        phone: np[7]\n                  };\n                    history.push({pathname: '/nphome', state: { detail: npobj}})\n                }\n            })\n        \n    }\n    \n    handleEmailChange = (e) =>{\n        this.setState({email: e.target.value})\n    }\n    handlePasswordChange = (e) =>{\n        this.setState({password: e.target.value})\n    }\n\n    render() {\n        return (\n            <Route render={({ history}) => (\n            <div className=\"login-comp\">\n                <img alt=\"Save Me A Piece\" src={require('../logo.png')}/>\n                <div className=\"login-title\">WELCOME BACK!</div>\n                <div className=\"login-title\">PLEASE LOGIN:</div>\n                <br/>\n                <div className=\"login-input\">\n                    <span className=\"icon\">\n                        <FaUserAlt/>\n                    </span>\n                    <input onChange={this.handleEmailChange} className=\"login-text\"type=\"text\" placeholder=\"EMAIL\">\n                    </input >\n                </div>\n                <div className=\"login-input\">\n                    <span className=\"icon\">\n                        <FaLock/>\n                    </span>\n                    <input onChange={this.handlePasswordChange} className=\"login-text\"type=\"password\" placeholder=\"PASSWORD\">\n                    </input >\n                </div>\n                <button className=\"login-button\" onClick={() => this.onLogin(history)} > \n                    <span className=\"button-login-name\">LOGIN</span>\n                </button>\n            </div>\n            )}\n            />\n        );\n    }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}