{"ast":null,"code":"import _classCallCheck from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/src/screens/SettingsPage.js\";\nimport React, { Component } from 'react';\nimport '../style/NonProfitReq.css';\nimport { Route } from 'react-router-dom';\nimport axios from 'axios';\n\nvar SettingsPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SettingsPage, _Component);\n\n  function SettingsPage(props) {\n    var _this;\n\n    _classCallCheck(this, SettingsPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SettingsPage).call(this, props));\n    console.log(_this.props);\n    _this.state = {\n      url: _this.props.location.state.passedurl,\n      email: _this.props.location.state.detail.email\n    };\n    console.log(_this.state);\n    return _this;\n  }\n\n  _createClass(SettingsPage, [{\n    key: \"onDelete\",\n    value: function onDelete(history) {\n      this.state.url === \"rhome\" ? axios.delete('http://127.0.0.1:8000/api/restaurants/', {\n        params: {\n          email: this.state.email\n        }\n      }).then(function (response) {\n        if (response.data.message === \"SUCCESS\") {\n          console.log(response.data);\n          history.push({\n            pathname: '/home'\n          });\n        }\n      }) : axios.delete('http://127.0.0.1:8000/api/nonprofits/', {\n        params: {\n          email: this.state.email\n        }\n      }).then(function (response) {\n        if (response.data.message === \"SUCCESS\") {\n          console.log(response.data);\n          history.push({\n            pathname: '/home'\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Route, {\n        render: function render(_ref) {\n          var history = _ref.history;\n          return React.createElement(\"div\", {\n            className: \"np-req-page\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"navigation\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            onClick: function onClick() {\n              return history.push(_this2.state.url);\n            },\n            className: \"r-nav-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            className: \"np-req-logo\",\n            alt: \"Save Me A Piece\",\n            src: require('../logo.png'),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), \"HOME \"), React.createElement(\"div\", {\n            className: \"r-nav-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, \"NON PROFIT REQUESTS\"), React.createElement(\"div\", {\n            onClick: function onClick() {\n              return history.push(\"/menu\");\n            },\n            className: \"r-nav-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, \"MY MENU\"), React.createElement(\"div\", {\n            className: \"r-nav-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }, \"SETTINGS\")), React.createElement(\"div\", {\n            className: \"np-req-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"results\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"np-req-header\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, \"Settings\"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            onClick: function onClick() {\n              return _this2.onDelete(history);\n            },\n            className: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, \"Delete Account\"), React.createElement(\"div\", {\n            onClick: function onClick() {\n              return history.push({\n                pathname: '/editpage',\n                state: {\n                  detail: _this2.state.email,\n                  passedurl: _this2.state.url\n                }\n              });\n            },\n            className: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, \"Go to Edit Page\"))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SettingsPage;\n}(Component);\n\nexport default SettingsPage;","map":{"version":3,"sources":["/Users/hanagzr/Documents/SP19/CS411 Databases/SaveMeAPieceFrontend/frontend/src/screens/SettingsPage.js"],"names":["React","Component","Route","axios","SettingsPage","props","console","log","state","url","location","passedurl","email","detail","history","delete","params","then","response","data","message","push","pathname","require","onDelete"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../style/NonProfitReq.css';\nimport {Route} from 'react-router-dom'\nimport axios from 'axios'\n\nclass SettingsPage extends Component {\n    constructor(props){\n        super(props);\n        console.log(this.props);\n        this.state = {\n            url : this.props.location.state.passedurl,\n            email: this.props.location.state.detail.email\n        }\n        console.log(this.state);\n    }\n    \n    onDelete(history){\n        this.state.url === \"rhome\"?\n            axios.delete('http://127.0.0.1:8000/api/restaurants/', \n              { \n                params:{\n                    email: this.state.email,\n                }\n              })\n            .then(function (response) {\n                if(response.data.message === \"SUCCESS\"){\n                    console.log(response.data);\n                    history.push({pathname: '/home'})\n                }\n            })\n        :\n            axios.delete('http://127.0.0.1:8000/api/nonprofits/', \n            {\n                params:{\n                    email: this.state.email,\n                }\n            })\n            .then(function (response) {\n                if(response.data.message === \"SUCCESS\"){\n                    console.log(response.data);\n                    history.push({pathname: '/home'})\n                }\n            })\n        \n    }\n\n    render() {\n        return (\n            <Route render={({ history}) => (\n                <div className=\"np-req-page\">\n                    <div className=\"navigation\">\n                        <div onClick={() => history.push(this.state.url)}className = \"r-nav-title\"><img className=\"np-req-logo\"alt=\"Save Me A Piece\" src={require('../logo.png')}/>HOME </div>\n                        <div className = \"r-nav-title\">NON PROFIT REQUESTS</div>\n                        <div onClick={() => history.push(\"/menu\")} className = \"r-nav-title\">MY MENU</div>\n                        <div className = \"r-nav-title\">SETTINGS</div>\n                    </div>\n                    <div className=\"np-req-body\">\n                        <div className = \"results\">\n                            <div className=\"np-req-header\">Settings</div>\n                            <br/>\n                            <div onClick={() => this.onDelete(history)} className=\"\">Delete Account</div>\n                            <div onClick={() => history.push({pathname: '/editpage', state: { detail:  this.state.email, passedurl:this.state.url } })} className = \"\">Go to Edit Page</div>\n                        </div>\n                    </div>\n                </div>\n            )}/>\n        );\n    }\n}\n\nexport default SettingsPage;"]},"metadata":{},"sourceType":"module"}